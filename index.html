<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
  import { 
    getAuth, 
    signInWithEmailAndPassword, 
    onAuthStateChanged 
  } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAzmBG2rQy7NdMRcoMwgvMmyTkDow0vNzA",
    authDomain: "operadorasanonimas.firebaseapp.com",
    projectId: "operadorasanonimas",
    storageBucket: "operadorasanonimas.firebasestorage.app",
    messagingSenderId: "214106326196",
    appId: "1:214106326196:web:7702707ae9b5db846503e1"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  const loginDiv = document.getElementById("login");
  const areaPrivada = document.getElementById("areaPrivada");

  window.entrar = function () {
    const email = document.getElementById("email").value;
    const senha = document.getElementById("senha").value;

    signInWithEmailAndPassword(auth, email, senha)
      .catch(() => alert("Email ou senha invÃ¡lidos"));
  };

  onAuthStateChanged(auth, (user) => {
    if (user) {
      loginDiv.style.display = "none";
      areaPrivada.style.display = "block";
    } else {
      loginDiv.style.display = "block";
      areaPrivada.style.display = "none";
    }
  });
</script>
